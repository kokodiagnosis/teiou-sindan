<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¸ç‹æ•‘æ¸ˆãƒ»ç©¶æ¥µãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰é‘‘å®š</title>
    <style>
        :root { --main: #0f1c3f; --accent: #b21f1f; --gold: #c5a059; --bg-gold: #e6c888; }
        body {
            margin: 0; padding: 0;
            background-color: var(--bg-gold);
            background-image: 
                radial-gradient(ellipse at center, #ffd700 0%, #e6c888 60%, #b8860b 100%),
                url('https://www.transparenttextures.com/patterns/stardust.png');
            background-blend-mode: overlay;
            font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
            color: #333;
            min-height: 100vh;
        }
        .container {
            background: #fffcf5; max-width: 800px; margin: 30px auto; padding: 40px;
            border: 4px double var(--gold); box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border-radius: 4px; position: relative;
        }
        .container::before {
            content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background-image: url('https://www.transparenttextures.com/patterns/paper.png');
            opacity: 0.4; pointer-events: none;
        }
        h1 { text-align: center; color: var(--main); font-size: 28px; border-bottom: 2px solid var(--gold); padding-bottom: 15px; margin-top: 0; letter-spacing: 2px; }
        .setup-box { background: rgba(255,255,255,0.8); padding: 25px; border: 1px solid #d4af37; border-radius: 8px; position: relative; z-index: 1; }
        .field { margin-bottom: 20px; }
        label { display: block; font-weight: bold; margin-bottom: 8px; color: var(--main); }
        input, select { width: 100%; padding: 12px; border: 1px solid #bbb; border-radius: 4px; font-size: 16px; box-sizing: border-box; font-family: sans-serif; }
        .main-btn {
            width: 100%; padding: 16px; border: none; border-radius: 4px;
            background: linear-gradient(to bottom, #1a2a6c, #0f1c3f);
            color: #d4af37; font-size: 18px; font-weight: bold; cursor: pointer;
            transition: 0.3s; border: 1px solid var(--gold);
        }
        .main-btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        #q-screen, #result-screen { display: none; position: relative; z-index: 1; }
        .q-text { font-size: 24px; font-weight: bold; text-align: center; margin: 60px 0; min-height: 100px; color: var(--main); line-height: 1.6; }
        .btns { display: flex; gap: 20px; justify-content: center; }
        .btns button { width: auto; min-width: 150px; padding: 15px 30px; font-size: 18px; font-weight:bold; cursor:pointer; border-radius:4px; }
        .yes-btn { background: var(--main); color: var(--gold); border:1px solid var(--gold); }
        .no-btn { background: #e0e0e0; color: #555; border: 1px solid #ccc; }
        .person-img-container { text-align: center; margin-bottom: 20px; }
        .person-img { width: 180px; height: 180px; border-radius: 50%; border: 6px solid var(--gold); object-fit: cover; background: #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .fallback-icon { font-size: 80px; line-height: 180px; display: inline-block; width: 180px; height: 180px; background: #fff; border-radius: 50%; border: 6px solid var(--gold); }
        .type-name { font-size: 32px; text-align: center; color: var(--main); margin: 10px 0; border-bottom: 1px solid #ddd; padding-bottom: 10px; }
        .person-name { text-align: center; color: #666; font-size: 16px; margin-bottom: 30px; }
        .card { background: rgba(255,255,255,0.9); padding: 25px; border-radius: 8px; margin-top: 25px; border-left: 6px solid var(--gold); box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .card h3 { margin-top: 0; color: var(--accent); border-bottom: 1px dashed #ccc; padding-bottom: 8px; font-size: 20px; }
        .white-space { white-space: pre-wrap; line-height: 1.8; text-align: justify; font-size: 15px; }
        .timing-tag { display: inline-block; background: var(--accent); color: white; padding: 4px 12px; border-radius: 20px; font-size: 14px; margin-bottom: 10px; font-weight: bold; font-family: sans-serif; }

        .book-card {
            background: #fff0f0; border: 2px solid var(--accent);
            text-align: center; padding: 20px; margin-top: 40px; border-radius: 10px;
        }
        .book-title { font-weight: bold; font-size: 18px; margin: 10px 0; color: #333; }
        .book-author { font-size: 14px; color: #666; margin-bottom: 15px; }
        .amazon-btn {
            display: inline-block; background: #ff9900; color: white; padding: 12px 30px;
            border-radius: 5px; text-decoration: none; font-weight: bold; font-family: sans-serif;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2); transition: 0.3s;
        }
        .amazon-btn:hover { background: #e68a00; transform: translateY(-2px); }

        .share-container { margin-top: 40px; text-align: center; border-top: 1px solid var(--gold); padding-top: 30px; }
        .share-title { color: var(--main); font-weight: bold; margin-bottom: 15px; font-size: 16px; letter-spacing: 1px; }
        .share-btns { display: flex; gap: 15px; justify-content: center; }
        .share-btn {
            flex: 1; max-width: 220px; padding: 15px 0; border-radius: 50px;
            color: white; font-weight: bold; font-size: 16px; border: 2px solid var(--gold);
            cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            display: flex; align-items: center; justify-content: center; font-family: sans-serif;
        }
        .btn-x { background: #000000; }
        .btn-line { background: #06c755; }
        .share-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(0,0,0,0.3); opacity: 0.9; }
        .share-icon { margin-right: 10px; font-size: 20px; }
    </style>
</head>
<body>

<div class="container">
    <div id="start-screen">
        <h1>å¸ç‹æ•‘æ¸ˆãƒ»ç©¶æ¥µãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰é‘‘å®š</h1>
        <p style="text-align:center; font-size:14px; color:#555;">å››æŸ±æ¨å‘½ Ã— ä¹æ˜Ÿæ°—å­¦ Ã— 16ã‚¿ã‚¤ãƒ—ã§èª­ã¿è§£ãã€ã‚ãªãŸã®å®¿å‘½ã¨æˆ¦ç•¥</p>
        <div class="setup-box">
            <div class="field"><label>æ€§åˆ¥</label><select id="gender"><option>ç”·æ€§</option><option>å¥³æ€§</option><option>ãã®ä»–</option></select></div>
            <div class="field"><label>ç”Ÿå¹´æœˆæ—¥</label><input type="date" id="birth-date"></div>
            <div class="field"><label>ç¾åœ¨ã®è·ç¨®</label><input type="text" id="job" placeholder="ä¾‹ï¼šITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€å–¶æ¥­è·ã€çµŒå–¶è€…ãªã©"></div>
            <button class="main-btn" onclick="startApp()">é‹å‘½ã®æ‰‰ã‚’é–‹ã</button>
        </div>
    </div>

    <div id="q-screen">
        <div id="progress" style="text-align:center; color:var(--main); font-weight:bold; font-family:sans-serif;">ç¬¬ 1 / 30 å•</div>
        <div class="q-text" id="q-text"></div>
        <div class="btns">
            <button class="yes-btn" onclick="next('A')">ãã†æ€ã†</button>
            <button class="no-btn" onclick="next('B')">æ€ã‚ãªã„</button>
        </div>
    </div>

    <div id="result-screen">
        <div class="person-img-container" id="img-area"></div>
        <h2 class="type-name" id="res-mbti"></h2>
        <div class="person-name" id="res-person"></div>

        <div class="card">
            <div class="timing-tag" id="res-timing-tag">é‹æ°—</div>
            <h3>ğŸ”± ä»Šã€æˆã™ã¹ãæ±ºæ–­ï¼ˆä¹æ˜Ÿæ°—å­¦ï¼‰</h3>
            <p id="res-timing-msg" class="white-space"></p>
        </div>

        <div class="card">
            <h3>â˜¯ï¸ å®¿å‘½ã®åˆ»å°ï¼ˆå››æŸ±æ¨å‘½ãƒ»ç®—å‘½å­¦ï¼‰</h3>
            <p id="res-destiny" class="white-space"></p>
        </div>

        <div class="card">
            <h3>ğŸ“œ æœ¬è³ªã¨å¸Œå°‘æ€§ï¼ˆ16ã‚¿ã‚¤ãƒ—è©³ç´°è§£èª¬ï¼‰</h3>
            <p id="res-desc" class="white-space"></p>
        </div>

        <div class="card">
            <h3>ğŸ”¥ ãƒ“ã‚¸ãƒã‚¹æ•‘æ¸ˆã‚¢ãƒ‰ãƒã‚¤ã‚¹</h3>
            <p id="res-advice" class="white-space"></p>
        </div>

        <div class="book-card">
            <h3 style="margin-top:0; color:var(--accent);">ğŸ“š æ‚©ã‚ã‚‹ã‚ãªãŸã¸ã®æ¨è–¦å›³æ›¸</h3>
            <p style="font-size:14px;">çµ„ç¹”æ§‹é€ ã®æ¬ é™¥ã¨äººé–“é–¢ä¿‚ã«ç–²ã‚ŒãŸæ™‚ã€<br>ã“ã®ä¸€å†ŠãŒã‚ãªãŸã®å¿ƒã®æ­¦å™¨ã«ãªã‚Šã¾ã™ã€‚</p>
            <p class="book-title">ã€æ•—åŒ—è«–: çµ„ç¹”æ§‹é€ ã®æ¬ é™¥ã¨<br>äººé–“é–¢ä¿‚ã«æ‚©ã‚€å…¨ã¦ã®äººã¸ã€</p>
            <p class="book-author">è‘—è€…ï¼šä¸‰å¿—</p>
            <a href="https://www.amazon.co.jp/s?k=%E6%95%97%E5%8C%97%E8%AB%96+%E4%B8%89%E5%BF%97" target="_blank" class="amazon-btn">Amazonã§è©³ç´°ã‚’è¦‹ã‚‹</a>
        </div>

        <div class="share-container">
            <p class="share-title">â€• ã“ã®çµæœã‚’ã‚·ã‚§ã‚¢ã—ã¦ä»²é–“ã‚’æ¢ã™ â€•</p>
            <div class="share-btns">
                <button class="share-btn btn-x" onclick="shareToX()">
                    <span class="share-icon">ğ•</span> ãƒã‚¹ãƒˆã™ã‚‹
                </button>
                <button class="share-btn btn-line" onclick="shareToLine()">
                    <span class="share-icon">ğŸ’¬</span> LINEã§é€ã‚‹
                </button>
            </div>
        </div>

        <button class="main-btn" onclick="location.reload()" style="margin-top:30px;">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</button>
    </div>
</div>

<script>
const qs = [
    { text: "ä¼šè­°ã§ã¯ã€èãå½¹ã‚ˆã‚Šã‚‚è‡ªåˆ†ã‹ã‚‰æ„è¦‹ã‚’è¨€ã†æ–¹ã ", typeA: "E", typeB: "I" },
    { text: "å¤§äººæ•°ã®ãƒ—ãƒ¬ã‚¼ãƒ³ã‚ˆã‚Šã‚‚ã€1å¯¾1ã®äº¤æ¸‰ãŒå¾—æ„ã ", typeA: "I", typeB: "E" },
    { text: "ä¼‘æ†©æ™‚é–“ã¯åŒåƒšã¨é›‘è«‡ã—ã¦ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„", typeA: "E", typeB: "I" },
    { text: "ãƒ¡ãƒ¼ãƒ«ã‚ˆã‚Šã‚‚é›»è©±ã‚„å¯¾é¢ã®æ–¹ãŒè©±ãŒæ—©ã„ã¨æ€ã†", typeA: "E", typeB: "I" },
    { text: "ãƒ©ãƒ³ãƒã¯ä¸€äººã§é™ã‹ã«é£Ÿã¹ãŸã„", typeA: "I", typeB: "E" },
    { text: "ãƒãƒ¼ãƒ ã®å£«æ°—ã‚’é«˜ã‚ã‚‹ã®ãŒå¾—æ„ã ", typeA: "E", typeB: "I" },
    { text: "ãƒãƒ«ãƒã‚¿ã‚¹ã‚¯ã‚ˆã‚Šã€ä¸€ã¤ã®ä»•äº‹ã«æ²¡é ­ã—ãŸã„", typeA: "I", typeB: "E" },
    { text: "ä»•äº‹ã®ã‚„ã‚Šæ–¹ã¯ã€ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚ˆã‚Šè‡ªåˆ†ã®æ„Ÿæ€§ã‚’ä¿¡ã˜ã‚‹", typeA: "N", typeB: "S" },
    { text: "ãƒ‡ãƒ¼ã‚¿ã‚„å®Ÿç¸¾ãŒãªã„ææ¡ˆã¯ã€ã‚ã¾ã‚Šä¿¡ç”¨ã§ããªã„", typeA: "S", typeB: "N" },
    { text: "ç´°ã‹ã„ãƒŸã‚¹ã‚ˆã‚Šã‚‚ã€å…¨ä½“ã®ãƒ“ã‚¸ãƒ§ãƒ³ãŒå¤§äº‹ã ã¨æ€ã†", typeA: "N", typeB: "S" },
    { text: "æ–°ã—ã„æŠ€è¡“ã‚ˆã‚Šã€ç¢ºç«‹ã•ã‚ŒãŸæ‰‹æ³•ã‚’å¥½ã‚€", typeA: "S", typeB: "N" },
    { text: "å…·ä½“çš„ãªæ•°å­—ã§ç¤ºã•ã‚Œã‚‹ã¨ç´å¾—ã—ã‚„ã™ã„", typeA: "S", typeB: "N" },
    { text: "ç¾å®Ÿã‚ˆã‚Šã‚‚ã€Œç†æƒ³ã®ä¼šç¤¾ã€ã«ã¤ã„ã¦èªã‚‹ã®ãŒå¥½ãã ", typeA: "N", typeB: "S" },
    { text: "ç‹¬å‰µçš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å‡ºã™ã®ãŒè‡ªåˆ†ã®å½¹å‰²ã ã¨æ€ã†", typeA: "N", typeB: "S" },
    { text: "æ±ºæ–­ã‚’ä¸‹ã™ã¨ãã€æƒ…ã«æµã•ã‚Œã‚‹ã“ã¨ã¯ã»ã¨ã‚“ã©ãªã„", typeA: "T", typeB: "F" },
    { text: "è·å ´ã®äººé–“é–¢ä¿‚ãŒã‚®ã‚¹ã‚®ã‚¹ã—ã¦ã„ã‚‹ã¨ä»•äº‹ãŒæ‰‹ã«ã¤ã‹ãªã„", typeA: "F", typeB: "T" },
    { text: "ãŸã¨ãˆåå¯¾ã•ã‚Œã¦ã‚‚ã€è«–ç†çš„ã«æ­£ã—ã„é“ã‚’é¸ã³ãŸã„", typeA: "T", typeB: "F" },
    { text: "éƒ¨ä¸‹ã‚„å¾Œè¼©ã«ã¯ã€Œæˆæœã€ã‚ˆã‚Šã€Œã‚„ã‚‹æ°—ã€ã‚’è©•ä¾¡ã—ãŸã„", typeA: "F", typeB: "T" },
    { text: "ä»•äº‹ã®çµæœã•ãˆè‰¯ã‘ã‚Œã°ã€ãƒ—ãƒ­ã‚»ã‚¹ã¯ã©ã†ã§ã‚‚ã„ã„", typeA: "T", typeB: "F" },
    { text: "ãƒˆãƒ©ãƒ–ãƒ«ãŒèµ·ãã‚‹ã¨ã€ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚‰ãšå†·é™ã«åˆ†æã™ã‚‹", typeA: "T", typeB: "F" },
    { text: "å‘¨å›²ã‹ã‚‰ã©ã†æ€ã‚ã‚Œã¦ã„ã‚‹ã‹ã€å¸¸ã«æ°—ã«ãªã‚‹", typeA: "F", typeB: "T" },
    { text: "ã‚¿ã‚¹ã‚¯ã¯å‰æ—¥ã¾ã§ã«ã¯ã™ã¹ã¦å®Œäº†ã•ã›ã¦ãŠããŸã„", typeA: "J", typeB: "P" },
    { text: "æ€¥ãªäºˆå®šå¤‰æ›´ãŒã‚ã£ã¦ã‚‚ã€æŸ”è»Ÿã«æ¥½ã—ã‚“ã§å¯¾å¿œã§ãã‚‹", typeA: "P", typeB: "J" },
    { text: "ãƒ‡ã‚¹ã‚¯ã®å‘¨ã‚Šã¯ã„ã¤ã‚‚æ•´ç†æ•´é “ã•ã‚Œã¦ã„ã‚‹", typeA: "J", typeB: "P" },
    { text: "ç· ã‚åˆ‡ã‚Šé–“è¿‘ã«ãªã‚‰ãªã„ã¨ã€æœ¬æ°—ãŒå‡ºãªã„ã‚¿ã‚¤ãƒ—ã ", typeA: "P", typeB: "J" },
    { text: "1æ—¥ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯æœã®ã†ã¡ã«ç´°ã‹ãæ±ºã‚ã‚‹", typeA: "J", typeB: "P" },
    { text: "ä¸€åº¦æ±ºã‚ãŸãƒ«ãƒ¼ãƒ«ã¯ã€ä¾‹å¤–ãªãå®ˆã‚‹ã¹ãã ", typeA: "J", typeB: "P" },
    { text: "è¦å‰‡ã‚ˆã‚Šã‚‚ã€ãã®å ´ã®ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é‡è¦–ã™ã‚‹", typeA: "P", typeB: "J" },
    { text: "ãƒªãƒ¼ãƒ€ãƒ¼ã‚’ä»»ã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„", typeA: "E", typeB: "I" },
    { text: "å°†æ¥ã®å¤¢ã«ã¤ã„ã¦ã‚ˆãè€ƒãˆã‚‹", typeA: "N", typeB: "S" }
];

const results = {
    "INTJ":{name:"å»ºç¯‰å®¶",person:"ç¹”ç”°ä¿¡é•·",icon:"ğŸ¯",img:"https://upload.wikimedia.org/wikipedia/commons/6/6d/Oda_Nobunaga_Portrait_2.jpg",desc:"ã€æœ¬è³ªï¼šæœªæ¥ã‚’è¨­è¨ˆã™ã‚‹å­¤ç‹¬ãªè³¢è€…ã€‘\nã‚ãªãŸã¯èª°ã‚ˆã‚Šã‚‚é ã„æœªæ¥ã‚’è¦‹ã¦ã„ã¾ã™ã€‚éåŠ¹ç‡ãªæ…£ç¿’ã‚„æ„Ÿæƒ…è«–ã‚’å«Œã„ã€è«–ç†ã ã‘ã§ä¸–ç•Œã‚’å†æ§‹ç¯‰ã—ã‚ˆã†ã¨ã™ã‚‹å§¿å‹¢ã¯ã€æ™‚ã«ã€Œå†·å¾¹ã€ã¨èª¤è§£ã•ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚å†…å´ã«ã¯ã‚ˆã‚Šè‰¯ã„ä¸–ç•Œã‚’ä½œã‚ŠãŸã„ç†±ã„æƒ…ç†±ãŒã‚ã‚Šã¾ã™ã€‚",pain:"ãƒã‚«ã’ãŸç¤¾å†…æ”¿æ²»ã‚„ã€æ„å‘³ã®ãªã„ä¼šè­°ã¸ã®è‹›ç«‹ã¡ã€‚",advice:"ã‚ãªãŸã®æ­£è«–ã¯é‹­ã™ãã‚‹å‰£ã§ã™ã€‚çµ„ç¹”ã¯æ„Ÿæƒ…ã§å‹•ãç”Ÿãç‰©ã ã¨å‰²ã‚Šåˆ‡ã‚Šã€é€±ã«ä¸€åº¦ã¯ã€Œç„¡é§„ãªé›‘è«‡ã€ã‚’æˆ¦ç•¥çš„ã«è¡Œã£ã¦ãã ã•ã„ã€‚"},
    "INTP":{name:"è«–ç†å­¦è€…",person:"ã‚¢ã‚¤ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³",icon:"ğŸ’¡",img:"https://upload.wikimedia.org/wikipedia/commons/d/d3/Albert_Einstein_Head.jpg",desc:"ã€æœ¬è³ªï¼šçœŸç†ã‚’è§£ãæ˜ã‹ã™ç™ºæ˜å®¶ã€‘\næ—¢å­˜ã®å¸¸è­˜ã‚’ç–‘ã„ã€ã‚¼ãƒ­ã‹ã‚‰æ–°ã—ã„æ¦‚å¿µã‚’ç”Ÿã¿å‡ºã™å¤©æ‰ã€‚é›£è§£ãªãƒ‘ã‚ºãƒ«ã«ã¯å¯é£Ÿã‚’å¿˜ã‚Œã¦æ²¡é ­ã—ã¾ã™ã€‚",pain:"ãƒ«ãƒ¼ãƒãƒ³ãƒ¯ãƒ¼ã‚¯ã®é€€å±ˆã•ã¨ã€è€ƒãˆã‚’ç†è§£ã•ã‚Œãªã„å­¤ç‹¬ã€‚",advice:"èˆˆå‘³ã®ãªã„ä»•äº‹ã¯ã€ŒåŠ¹ç‡åŒ–ã‚²ãƒ¼ãƒ ã€ã¨ã—ã¦å‡¦ç†ã‚’ã€‚ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å›³è§£ã—ã¦è¦‹ã›ã‚‹ã ã‘ã§å‘¨å›²ã®è©•ä¾¡ã¯ä¸€å¤‰ã—ã¾ã™ã€‚"},
    "ENTJ":{name:"æŒ‡æ®å®˜",person:"ãƒŠãƒãƒ¬ã‚ªãƒ³",icon:"ğŸ¦…",img:"https://upload.wikimedia.org/wikipedia/commons/5/50/Jacques-Louis_David_-_The_Emperor_Napoleon_in_His_Study_at_the_Tuileries_-_Google_Art_Project.jpg",desc:"ã€æœ¬è³ªï¼šå‹åˆ©ã‚’ç¾©å‹™ä»˜ã‘ã‚‰ã‚ŒãŸå°†è»ã€‘\nç”Ÿã¾ã‚ŒãªãŒã‚‰ã®ãƒªãƒ¼ãƒ€ãƒ¼ã€‚ç›®æ¨™é”æˆã®ãŸã‚ãªã‚‰ã©ã‚“ãªå›°é›£ã‚‚çªç ´ã—ã¾ã™ã€‚ã‚ãªãŸã®è¾æ›¸ã«ã€Œä¸å¯èƒ½ã€ã®æ–‡å­—ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚",pain:"å‘¨å›²ã®æˆé•·ã‚¹ãƒ”ãƒ¼ãƒ‰ã®é…ã•ã¨ã€éåŠ¹ç‡ãªç’°å¢ƒã€‚",advice:"ã€Œå¾…ã¤ã“ã¨ã€ã‚‚æˆ¦ç•¥ã§ã™ã€‚éƒ¨ä¸‹ã«ç­”ãˆã‚’æ•™ãˆãšã€è³ªå•ã‚’æŠ•ã’ã¦è€ƒãˆã•ã›ã‚‹ä½™è£•ã‚’æŒã¤ã“ã¨ãŒçœŸã®å¸ç‹ã¸ã®é“ã§ã™ã€‚"},
    "ENTP":{name:"è¨è«–è€…",person:"ãƒ€ãƒ»ãƒ´ã‚£ãƒ³ãƒ",icon:"ğŸ¨",img:"https://upload.wikimedia.org/wikipedia/commons/b/ba/Leonardo_self.jpg",desc:"ã€æœ¬è³ªï¼šæ··æ²Œã‚’æ„›ã™ã‚‹ã‚¤ãƒãƒ™ãƒ¼ã‚¿ãƒ¼ã€‘\nå¸¸ã«æ–°ã—ã„åˆºæ¿€ã‚’æ±‚ã‚ã‚‹ç ´å£Šã¨å‰µé€ ã®ãƒˆãƒªãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ã€‚ç©ºæ°—ã‚’èª­ã¾ãšã€Œç‹æ§˜ã¯è£¸ã ã€ã¨è¨€ãˆã‚‹å­˜åœ¨ã¯ç¡¬ç›´ã—ãŸçµ„ç¹”ã®åŠ‡è–¬ã§ã™ã€‚",pain:"æŸç¸›ã•ã‚Œã‚‹ã“ã¨ã€å˜ç´”ä½œæ¥­ã®ç¹°ã‚Šè¿”ã—ã€‚",advice:"é£½ãã£ã½ã„ã®ã¯ã€Œå¤šæ‰ã€ãªè¨¼æ‹ ã€‚ä¸€ã¤ã ã‘ã€Œå®Œäº†ã•ã›ã‚‹ã€ç¿’æ…£ã‚’æŒã¦ã°ç„¡æ•µã§ã™ã€‚"},
    "INFJ":{name:"æå”±è€…",person:"ãƒã‚¶ãƒ¼ãƒ»ãƒ†ãƒ¬ã‚µ",icon:"ğŸ•Šï¸",img:"https://upload.wikimedia.org/wikipedia/commons/d/d6/Mother_Teresa_1.jpg",desc:"ã€æœ¬è³ªï¼šæ·±æ·µã‚’è¦‹ã¤ã‚ã‚‹è–äººã€‘\næœ€ã‚‚å¸Œå°‘ãªã‚¿ã‚¤ãƒ—ã€‚é™ã‹ã§ã™ãŒæºã‚‹ããªã„ä¿¡å¿µãŒã‚ã‚Šã¾ã™ã€‚äººã®ç—›ã¿ã‚’è‡ªåˆ†ã®ã“ã¨ã®ã‚ˆã†ã«æ„Ÿã˜ã‚‹æ·±ã„å…±æ„ŸåŠ›ã®æŒã¡ä¸»ã€‚",pain:"ä»–äººã®è² ã®æ„Ÿæƒ…ã«å½“ã¦ã‚‰ã‚Œã€æ¶ˆè€—ã—ã¦ã—ã¾ã†ã“ã¨ã€‚",advice:"ã€Œå¿ƒã®ã‚·ãƒ£ãƒƒã‚¿ãƒ¼ã€ã‚’ä¸‹ã‚ã™ç·´ç¿’ã‚’ã€‚å…¨ã¦ã®äººã‚’æ•‘ã†ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ã¾ãšã¯è‡ªåˆ†è‡ªèº«ã‚’æº€ãŸã™ã“ã¨ãŒæœ€å„ªå…ˆã§ã™ã€‚"},
    "INFP":{name:"ä»²ä»‹è€…",person:"ã‚¢ãƒ³ãƒãƒ»ãƒ•ãƒ©ãƒ³ã‚¯",icon:"ğŸ“–",img:"https://upload.wikimedia.org/wikipedia/commons/a/af/Anne_Frank_1940_crop.jpg",desc:"ã€æœ¬è³ªï¼šç†æƒ³ã‚’è¿½ã„æ±‚ã‚ã‚‹è©©äººã€‘\nå¿ƒã®ä¸­ã«ç‹¬è‡ªã®ç¾ã—ã„ä¸–ç•Œã‚’æŒã£ã¦ã„ã¾ã™ã€‚å¤§åˆ‡ãªä¾¡å€¤è¦³ã‚’å®ˆã‚‹ãŸã‚ãªã‚‰é©šãã»ã©ã®å¼·ã•ã‚’ç™ºæ®ã—ã¾ã™ã€‚",pain:"ç¾å®Ÿã®å³ã—ã•ã¨ç†æƒ³ã®ã‚®ãƒ£ãƒƒãƒ—ã€æ‰¹åˆ¤ã¸ã®å¼±ã•ã€‚",advice:"ä»•äº‹ã¯ã€Œè‡ªåˆ†ã‚’è¡¨ç¾ã™ã‚‹èˆå°ã€ã¨å‰²ã‚Šåˆ‡ã‚Šã¾ã—ã‚‡ã†ã€‚è‹¦æ‰‹ãªäº‹å‹™ä½œæ¥­ã¯ä»²é–“ã«ä»»ã›ã¦OKã€‚æ„Ÿæ€§ãŒæ­»ã¬ç’°å¢ƒã‹ã‚‰ã¯é€ƒã’ã¦ãã ã•ã„ã€‚"},
    "ENFJ":{name:"ä¸»äººå…¬",person:"ã‚­ãƒ³ã‚°ç‰§å¸«",icon:"ğŸ“¢",img:"https://upload.wikimedia.org/wikipedia/commons/8/84/Martin_Luther_King_Jr_NYWTS.jpg",desc:"ã€æœ¬è³ªï¼šäººã‚’å°ãã‚«ãƒªã‚¹ãƒã€‘\nã‚ãªãŸã®è¨€è‘‰ã«ã¯é­‚ãŒå®¿ã‚Šã€è‡ªç„¶ã¨äººãŒé›†ã¾ã‚Šã¾ã™ã€‚ä»–äººã®æˆé•·ã‚’è‡ªåˆ†ã®ã“ã¨ã®ã‚ˆã†ã«å–œã¹ã‚‹ã€çœŸã®æŒ‡å°è€…ã§ã™ã€‚",pain:"æœŸå¾…ã«å¿œãˆã‚ˆã†ã¨ã—ã¦ã®è‡ªå·±çŠ ç‰²ã€ç‡ƒãˆå°½ãã€‚",advice:"å…¨å“¡ã«å¥½ã‹ã‚Œã‚‹ã®ã¯ç„¡ç†ã§ã™ã€‚è‡ªåˆ†ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®20%ã¯ã€å¿…ãšã€Œè‡ªåˆ†ã®ãŸã‚ã ã‘ã€ã«ä½¿ã£ã¦ãã ã•ã„ã€‚"},
    "ENFP":{name:"é‹å‹•å®¶",person:"ã‚¦ã‚©ãƒ«ãƒˆãƒ»ãƒ‡ã‚£ã‚ºãƒ‹ãƒ¼",icon:"ğŸ­",img:"https://upload.wikimedia.org/wikipedia/commons/d/df/Walt_Disney_1946.JPG",desc:"ã€æœ¬è³ªï¼šè‡ªç”±ã‚’æ„›ã™ã‚‹å†’é™ºå®¶ã€‘\nãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹ã“ã¨ã«å‘½ã‚’ç‡ƒã‚„ã—ã¾ã™ã€‚å¸¸è­˜ã«ã¨ã‚‰ã‚ã‚Œãªã„ã‚¢ã‚¤ãƒ‡ã‚¢ãŒã€è¡Œãè©°ã¾ã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å‘½ã‚’å¹ãè¾¼ã¿ã¾ã™ã€‚",pain:"è©³ç´°ãªè©°ã‚ã‚„ç®¡ç†æ¥­å‹™ã€å­¤ç‹¬ã¸ã®ææ€–ã€‚",advice:"ã€Œå§‹ã‚ã‚‹ã“ã¨ã€ã®å¤©æ‰ã§ã‚ã‚‹ã“ã¨ã‚’èª‡ã£ã¦ãã ã•ã„ã€‚ç¶­æŒç®¡ç†ã¯å¾—æ„ãªäººã«ä»»ã›ã‚‹ä»•çµ„ã¿ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚"},
    "ISTJ":{name:"ç®¡ç†è€…",person:"ãƒ¯ã‚·ãƒ³ãƒˆãƒ³",icon:"âš–ï¸",img:"https://upload.wikimedia.org/wikipedia/commons/b/b6/Gilbert_Stuart_Williamstown_Portrait_of_George_Washington.jpg",desc:"ã€æœ¬è³ªï¼šç¤¾ä¼šã‚’æ”¯ãˆã‚‹å¤§é»’æŸ±ã€‘\nè²¬ä»»æ„ŸãŒå¼·ãã€ã‚ãªãŸã®ä»•äº‹ã«ã¯ãƒŸã‚¹ãŒãªãçµ¶å¯¾çš„ãªä¿¡é ¼ãŒã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸãŒã„ãªã„ã¨ç¤¾ä¼šã¯æ··ä¹±ã—ã¾ã™ã€‚çµ„ç¹”ã®èƒŒéª¨ã§ã™ã€‚",pain:"ç„¡è¨ˆç”»ãªå¤‰åŒ–ã€æ€¥ãªãƒˆãƒ©ãƒ–ãƒ«ã€ãƒ«ãƒ¼ãƒ«ã®ç„¡è¦–ã€‚",advice:"å¤‰åŒ–ã‚’ã€Œãƒ«ãƒ¼ãƒ«ã¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã€ã¨æ‰ãˆã¦ã¿ã¦ãã ã•ã„ã€‚æ„Ÿæƒ…ã¸ã®é…æ…®ã‚’ã²ã¨ã¤ã¾ã¿å…¥ã‚Œã‚‹ã ã‘ã§å®Œç’§ã§ã™ã€‚"},
    "ISFJ":{name:"æ“è­·è€…",person:"ãƒŠã‚¤ãƒãƒ³ã‚²ãƒ¼ãƒ«",icon:"ğŸ¥",img:"https://upload.wikimedia.org/wikipedia/commons/1/13/Florence_Nightingale_two.jpg",desc:"ã€æœ¬è³ªï¼šçµ„ç¹”ã¨äººé–“é–¢ä¿‚ã®æœ€å¾Œã®ç ¦ã€‘\nåœ§å€’çš„ãªå®Ÿå‹™èƒ½åŠ›ã¨è¨˜æ†¶åŠ›ã§å®Œç’§ãªã‚µãƒãƒ¼ãƒˆã‚’ã“ãªã—ã¾ã™ã€‚é›†å›£ã‚’ç¹‹ãæ­¢ã‚ã‚‹ã€å¼·åŠ›ãªæ¥ç€å‰¤ã€ãªã®ã§ã™ã€‚",pain:"æ„Ÿè¬ã•ã‚Œãªã„çŒ®èº«ã€æ–­ã‚Œãªã„æ€§æ ¼ã«ã‚ˆã‚‹ã‚ªãƒ¼ãƒãƒ¼ãƒ¯ãƒ¼ã‚¯ã€‚",advice:"è‡ªå·±çŠ ç‰²ã§è‡ªåˆ†ã‚’å‰Šã‚Šã™ããªã„ã§ãã ã•ã„ã€‚ã€ŒNOã€ã¨è¨€ã†ã“ã¨ã¯è‡ªåˆ†ã‚’å®ˆã‚‹ä»•äº‹ã§ã™ã€‚ä¾¡å€¤ã‚’ã‚‚ã£ã¨ä¸»å¼µã—ã¦ã€‚"},
    "ESTJ":{name:"å¹¹éƒ¨",person:"ãƒ­ãƒƒã‚¯ãƒ•ã‚§ãƒ©ãƒ¼",icon:"ğŸ¢",img:"https://upload.wikimedia.org/wikipedia/commons/6/6f/John_D._Rockefeller_1885.jpg",desc:"ã€æœ¬è³ªï¼šç§©åºã‚’ä½œã‚‹å®Ÿè¡Œè€…ã€‘\næ›–æ˜§ãªçŠ¶æ³ã‚’å«Œã„ã€æ˜ç¢ºãªæ‰‹é †ã‚’ä½œã‚Šä¸Šã’ã¾ã™ã€‚çµæœã«ã‚³ãƒŸãƒƒãƒˆã™ã‚‹çµ„ç¹”é‹å–¶ã®ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã§ã™ã€‚",pain:"ãƒ«ãƒ¼ãƒ«ã‚’å®ˆã‚‰ãªã„äººã¸ã®æ€’ã‚Šã€éåŠ¹ç‡ãªã‚„ã‚Šæ–¹ã€‚",advice:"ã€ŒéŠã³ã€ã‚„ã€Œç„¡é§„ã€ã‚‚æ½¤æ»‘æ²¹ã§ã™ã€‚éƒ¨ä¸‹ã®å¤±æ•—ã‚’è¨±å®¹ã™ã‚‹ã€Œä½™è£•ã€ã‚’è¦‹ã›ã‚‹ã“ã¨ã§ã‚«ãƒªã‚¹ãƒæ€§ã¯å®Œæˆã—ã¾ã™ã€‚"},
    "ESFJ":{name:"é ˜äº‹",person:"ãƒ†ã‚¤ãƒ©ãƒ¼ãƒ»ã‚¹ã‚¦ã‚£ãƒ•ãƒˆ",icon:"ğŸ¤",img:"https://upload.wikimedia.org/wikipedia/commons/b/b5/191125_Taylor_Swift_at_the_2019_American_Music_Awards_%28cropped%29.jpg",desc:"ã€æœ¬è³ªï¼šæ„›ã•ã‚Œã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒªãƒ¼ãƒ€ãƒ¼ã€‘\nå ´ã®ç©ºæ°—ã‚’èª­ã‚€èƒ½åŠ›ã«é•·ã‘ã€å‘¨å›²ã‚’èª¿å’Œã•ã›ã‚‹é”äººã€‚ã‚ãªãŸã®äººé–“åŠ›ã¯AIã«ã¯ä»£æ›¿ã§ããªã„ä¾¡å€¤ã§ã™ã€‚",pain:"æ‰¹åˆ¤ã•ã‚Œã‚‹ã“ã¨ã¸ã®ææ€–ã€äººé–“é–¢ä¿‚ã®ãƒˆãƒ©ãƒ–ãƒ«ã€‚",advice:"ã€Œè‡ªåˆ†è»¸ã€ã‚’æŒã£ã¦ãã ã•ã„ã€‚ä»–äººã®è©•ä¾¡ãŒã‚ãªãŸã®ä¾¡å€¤ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æ™‚ã«ã¯å«Œã‚ã‚Œã‚‹å‹‡æ°—ã‚‚å¿…è¦ã§ã™ã€‚"},
    "ISTP":{name:"å·¨åŒ ",person:"å®®æœ¬æ­¦è”µ",icon:"âš”ï¸",img:"https://upload.wikimedia.org/wikipedia/commons/a/a2/Miyamoto_Musashi_Self_Portrait.jpg",desc:"ã€æœ¬è³ªï¼šå­¤é«˜ã®ãƒ†ã‚¯ãƒ‹ã‚·ãƒ£ãƒ³ã€‘\näº‹å®Ÿã ã‘ã‚’è¦‹ã¦æœ€é©è§£ã‚’å‡ºã›ã‚‹ã€å±æ©Ÿã‚’æ•‘ã†åˆ‡ã‚Šæœ­ã§ã™ã€‚é“å…·ã‚’ä½¿ã„ã“ãªã™ã‚¯ãƒ¼ãƒ«ãªè·äººè‚Œã§ã™ã€‚",pain:"å¹²æ¸‰ã•ã‚Œã‚‹ã“ã¨ã€æ„å‘³ã®ãªã„ä¼šè­°ã€éåˆç†ãªæŒ‡ç¤ºã€‚",advice:"ä¸€åŒ¹ç‹¼ã§ã„ã‚‹ãŸã‚ã®ã‚¹ã‚­ãƒ«ã‚’æ¥µã‚ã¦ãã ã•ã„ã€‚ã€Œä»£ã‚ã‚Šã®ã„ãªã„å°‚é–€å®¶ã€ã«ãªã‚Œã°ã€èª°ã‚‚ã‚ãªãŸã‚’ç¸›ã‚Œã¾ã›ã‚“ã€‚"},
    "ISFP":{name:"å†’é™ºå®¶",person:"ãƒã‚¤ã‚±ãƒ«ãƒ»ã‚¸ãƒ£ã‚¯ã‚½ãƒ³",icon:"ğŸ•º",img:"https://upload.wikimedia.org/wikipedia/commons/3/31/Michael_Jackson_in_1988.jpg",desc:"ã€æœ¬è³ªï¼šç¾ã‚’æ„›ã™ã‚‹è‡ªç”±äººã€‘\nå‹ã«ã¯ã¾ã‚‰ãªã„ç‹¬è‡ªã®æ„Ÿæ€§ã‚’æŒã£ã¦ã„ã¾ã™ã€‚åŠ¹ç‡ã‚ˆã‚Šã‚‚ã€Œä»Šã€ä½•ã‚’æ„Ÿã˜ã¦ã„ã‚‹ã‹ã€ã‚’å¤§åˆ‡ã«ã™ã‚‹å¹³å’Œä¸»ç¾©è€…ã€‚",pain:"å³ã—ã„ãƒãƒ«ãƒã€ç«¶äº‰ã€è‡ªåˆ†ã‚’æ®ºã—ã¦åƒãã“ã¨ã€‚",advice:"è¨€è‘‰ãŒè‹¦æ‰‹ãªã‚‰æˆæœç‰©ã§ç¤ºã—ã¾ã—ã‚‡ã†ã€‚æ„Ÿæ€§ãŒæ­»ã­ã°ã‚ãªãŸã§ã¯ãªããªã‚Šã¾ã™ã€‚è‡ªç„¶ã®ä¸­ã§ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã‚’ã€‚"},
    "ESTP":{name:"èµ·æ¥­å®¶",person:"å‚æœ¬é¾é¦¬",icon:"â›µ",img:"https://upload.wikimedia.org/wikipedia/commons/1/17/Sakamoto_Ryoma_portrait.jpg",desc:"ã€æœ¬è³ªï¼šåµã‚’å‘¼ã¶é¢¨é›²å…ã€‘\nãƒ”ãƒ³ãƒã‚’ãƒãƒ£ãƒ³ã‚¹ã«å¤‰ãˆã‚‹åœ§å€’çš„ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ã€‚èª°ã‚‚ã‚„ã‚ŠãŸãŒã‚‰ãªã„ç«ä¸­ã®æ —ã‚’æ‹¾ã†æ™‚ä»£ã®é–‹æ‹“è€…ã§ã™ã€‚",pain:"é€€å±ˆã€ã˜ã£ã¨ã—ã¦ã„ã‚‹ã“ã¨ã€é•·æœŸè¨ˆç”»ã€‚",advice:"çŸ­æœŸæ±ºæˆ¦ã‚’ç¹°ã‚Šè¿”ã™ã‚¹ã‚¿ã‚¤ãƒ«ã§ä»•äº‹ã‚’ã€‚ãƒ•ã‚©ãƒ­ãƒ¼å½¹ã®ä»²é–“ã‚’å¤§åˆ‡ã«ã™ã‚Œã°ã€å¿…ãšå¤©ä¸‹ã‚’å–ã‚Œã¾ã™ã€‚"},
    "ESFP":{name:"ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒŠãƒ¼",person:"ãƒãƒªãƒªãƒ³ãƒ»ãƒ¢ãƒ³ãƒ­ãƒ¼",icon:"ğŸ’„",img:"https://upload.wikimedia.org/wikipedia/commons/4/4e/Marilyn_Monroe%2C_at_a_production_still_of_The_Prince_and_the_Showgirl_%281957%29.jpg",desc:"ã€æœ¬è³ªï¼šä¸–ç•Œã‚’å½©ã‚‹ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¹ã‚¿ãƒ¼ã€‘\nã‚ãªãŸãŒç¬‘ãˆã°ä¸–ç•Œã‚‚ç¬‘ã„ã¾ã™ã€‚é€€å±ˆãªæ—¥å¸¸ã‚’ãƒ‰ãƒ©ãƒãƒãƒƒã‚¯ã«å¤‰ãˆã‚‹ã€æ˜ã‚‹ã„å¸Œæœ›ãã®ã‚‚ã®ã§ã™ã€‚",pain:"å­¤ç‹¬ã€ç„¡è¦–ã•ã‚Œã‚‹ã“ã¨ã€å³ã—ã„å±è²¬ã€‚",advice:"è‡ªåˆ†ã‚’å®‰å£²ã‚Šã—ãªã„ã§ãã ã•ã„ã€‚ã‚ãªãŸã®è¼ããŒæ­£å½“ã«è©•ä¾¡ã•ã‚Œã‚‹å ´æ‰€ã‚’é¸ã¹ã°ã€ã‚ãªãŸã¯ä¸»å½¹ã«ãªã‚Œã¾ã™ã€‚"}
};

let cur = 0; let sc = {E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};

function startApp() {
    if(!document.getElementById('birth-date').value) return alert("ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
    document.getElementById('start-screen').style.display='none';
    document.getElementById('q-screen').style.display='block';
    showQ();
}
function showQ() {
    if(cur < qs.length) {
        document.getElementById('progress').innerText = `ç¬¬ ${cur+1} / ${qs.length} å•`;
        document.getElementById('q-text').innerText = qs[cur].text;
    } else { showRes(); }
}
function next(ans) {
    let t = (ans === 'A') ? qs[cur].typeA : qs[cur].typeB;
    sc[t]++; cur++; showQ();
}

function getFortune(birth) {
    const y = new Date(birth).getFullYear();
    const sum = y.toString().split('').reduce((a,b)=>parseInt(a)+parseInt(b),0);
    const star = (11 - (sum % 9)) % 9 || 9;
    const msgs = ["","ã€ä¸€ç™½æ°´æ˜Ÿï¼šæº–å‚™ã®æ™‚ã€‘\nç„¦ã‚‰ãšæ ¹ã‚’æ·±ãå¼µã‚Šã¾ã—ã‚‡ã†ã€‚","ã€äºŒé»’åœŸæ˜Ÿï¼šè‚²æˆã®æ™‚ã€‘\nå‘¨å›²ã‚’ã‚µãƒãƒ¼ãƒˆã—ä¿¡é ¼ã‚’è²¯é‡‘ã—ã¾ã—ã‚‡ã†ã€‚","ã€ä¸‰ç¢§æœ¨æ˜Ÿï¼šç™ºå±•ã®æ™‚ã€‘\næ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã¯å³å®Ÿè¡Œã¸ï¼","ã€å››ç·‘æœ¨æ˜Ÿï¼šæ•´ã„ã®æ™‚ã€‘\näººé–“é–¢ä¿‚ã‚’æ•´ç†ã—è³ªã‚’é«˜ã‚ã¾ã—ã‚‡ã†ã€‚","ã€äº”é»„åœŸæ˜Ÿï¼šå¤‰é©ã®æ™‚ã€‘\nå¤ã„è‡ªåˆ†ã‚’æ¨ã¦ã€ç”Ÿã¾ã‚Œå¤‰ã‚ã‚‹ãƒãƒ£ãƒ³ã‚¹ã€‚","ã€å…­ç™½é‡‘æ˜Ÿï¼šçµå®Ÿã®æ™‚ã€‘\nãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’ç™ºæ®ã—æ±ºæ–­ã‚’ã€‚","ã€ä¸ƒèµ¤é‡‘æ˜Ÿï¼šåç©«ã®æ™‚ã€‘\næ¥½ã—ã•ã‚’å„ªå…ˆã—ã€äººè„ˆã‚’åºƒã’ã¾ã—ã‚‡ã†ã€‚","ã€å…«ç™½åœŸæ˜Ÿï¼šå¤‰åŒ–ã®æ™‚ã€‘\nå±±ã®ã‚ˆã†ã«å‹•ã˜ãªã„å§¿å‹¢ãŒå‰ã€‚","ã€ä¹ç´«ç«æ˜Ÿï¼šæ˜æš—ã®æ™‚ã€‘\nè‡ªåˆ†ã‚’ç£¨ãç›´ã™æœ€é«˜ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‚"];
    return msgs[star];
}

function getDestiny(birth) {
    const d = new Date(birth);
    const base = new Date("1900/01/01");
    const diff = Math.floor((d - base)/(86400000)) + 50;
    const kans = ["ç™¸(é›¨)","ç”²(å¤§æ¨¹)","ä¹™(è‰èŠ±)","ä¸™(å¤ªé™½)","ä¸(ç¯ç«)","æˆŠ(å±±)","å·±(å¤§åœ°)","åºš(åˆ€)","è¾›(å®çŸ³)","å£¬(æµ·)"];
    return kans[diff % 10];
}

function showRes() {
    document.getElementById('q-screen').style.display='none';
    document.getElementById('result-screen').style.display='block';
    const birth = document.getElementById('birth-date').value;
    const mbti = (sc.E>=sc.I?'E':'I')+(sc.S>=sc.N?'S':'N')+(sc.T>=sc.F?'T':'F')+(sc.J>=sc.P?'J':'P');
    const data = results[mbti];
    const fortuneMsg = getFortune(birth);
    const destinyKan = getDestiny(birth);

    const imgDiv = document.getElementById('img-area');
    imgDiv.innerHTML = `<img class="person-img" src="${data.img}" onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-block';"><div class="fallback-icon" style="display:none;">${data.icon}</div>`;

    document.getElementById('res-mbti').innerText = `${mbti}ï¼š${data.name}`;
    document.getElementById('res-person').innerText = `æ­´å²çš„å…±é³´è€…ï¼š${data.person}`;
    document.getElementById('res-timing-msg').innerText = fortuneMsg;
    document.getElementById('res-destiny').innerText = `ã‚ãªãŸã®é­‚ã®ã‚·ãƒ³ãƒœãƒ«ã¯ã€Œ${destinyKan}ã€ã§ã™ã€‚\nã“ã®æ€§è³ªã¯ã€ç”Ÿæ¶¯å¤‰ã‚ã‚‰ãªã„ã‚ãªãŸã®æ ¸ã¨ãªã‚Šã¾ã™ã€‚`;
    document.getElementById('res-desc').innerText = data.desc;
    document.getElementById('res-advice').innerText = `ã€æ‚©ã¿ã®æ ¹æºã€‘\n${data.pain}\n\nã€æ•‘æ¸ˆã®å‡¦æ–¹ç®‹ã€‘\n${data.advice}`;
    window.scrollTo(0,0);
}

function getShareData() {
    const mbti = document.getElementById('res-mbti').innerText;
    const person = document.getElementById('res-person').innerText;
    // URLã‚’è‡ªå‹•å–å¾—ã«ã™ã‚‹ã“ã¨ã§æ›¸ãæ›ãˆãƒŸã‚¹ã‚’å®Œå…¨ã«é˜²ãã¾ã™
    const url = window.location.href; 
    const text = `ã€å¸ç‹æ•‘æ¸ˆãƒ»ç©¶æ¥µãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰é‘‘å®šã€‘\nç§ã®å®¿å‘½ã¯â€¦\nğŸ‘‘ ${mbti}\n${person} ã§ã—ãŸã€‚\n\nã‚ãªãŸã®æ‰èƒ½ã¨æˆ¦ç•¥ã‚‚è¨ºæ–­ã—ã¦ã¿ã‚‹ï¼Ÿ\nğŸ‘‡`;
    return { text, url };
}

function shareToX() {
    const data = getShareData();
    const hashtags = "å¸ç‹å­¦è¨ºæ–­,ãƒ“ã‚¸ãƒã‚¹æ•‘æ¸ˆ,16ã‚¿ã‚¤ãƒ—";
    const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(data.text)}&url=${encodeURIComponent(data.url)}&hashtags=${hashtags}`;
    window.open(shareUrl, '_blank');
}

function shareToLine() {
    const data = getShareData();
    const shareUrl = `https://line.me/R/msg/text/?${encodeURIComponent(data.text + "\n" + data.url)}`;
    window.open(shareUrl, '_blank');
}
</script>
</body>
</html>
